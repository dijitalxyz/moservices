<?xml version="1.0"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/">
 
<bookmark> Guide_Menu </bookmark>

<onRefresh>
	setRefreshTime(1000);
	DBReady = IsDBReady();

	if(DBReady != LastDBReady){
		 redrawDisplay();
    }
    LastDBReady = DBReady;
    
</onRefresh>

<onExit>
	setRefreshTime(-1);
</onExit>

<mediaDisplay name=photoFocusView

	backgroundColor=-1:-1:-1

	viewAreaXPC=0
	viewAreaYPC=70
	viewAreaWidthPC=100
	viewAreaHeightPC=30

	rowCount=1
	columnCount=9

	sideTopHeightPC = 0
	sideBottomHeightPC=0

	itemGrid.heightPC=100
	itemGrid.gapXPC=1.5

	itemGrid.element.xPC = 10.7031
	itemGrid.element.yPC=35
	itemGrid.element.widthPC=6.88
	itemGrid.element.heightPC=47.50

	itemGrid.elementBackground.widthPC=6.88
	itemGrid.elementBackground.heightPC=47.50

	itemGrid.focusElement.yPC=30
	itemGrid.focusElement.widthPC=8.67
	itemGrid.focusElement.heightPC=59.61

	itemGrid.focusElementBackground.widthPC=8.67
	itemGrid.focusElementBackground.heightPC=59.61

	itemBackgroundColor=-1:-1:-1

	bottomArea.yPC=100

	enableStretchBlt=no
	circlingItems=no

  slideItems=yes
  stretchInFocus=yes

	showHeader = "no"
	showDefaultInfo=no


	DoAnimation = "no"
	AnimationType = 1
	AnimationStep = 26
	AnimationDelay = 1
	BackgroundDark = "no"

>
<popupDialog>
	<mediaDisplay>
		<onEnter>
			popupHeader = "$[IMS_APPINFO]";
			popupOptionSize = 1;
			popupOptions = pushBackStringArray(popupOptions, "$[OK]");
			popupMessageSize = 1;
			popupOptionWide = 1;
			popupMessages = "$[IMS_APPWAIT]";
			popupOptionFocus = "$[OK]"
		</onEnter>
	</mediaDisplay>
</popupDialog>
	<backgroundDisplay name=GuideMenuBackground>
		<image offsetXPC=0 offsetYPC=0 widthPC=100 heightPC=100>
			<script>
				BG_image = "/usr/local/etc/mos/iconmenu/images/GuideMenu_BG_half.fsp";
			</script>
		</image>

	<!--
		 <text offsetXPC="0" offsetYPC="0" widthPC="100" heightPC="100"
			fontSize="16" backgroundColor="3:30:81"/>
	-->
	</backgroundDisplay>

	<BltRows>
		<script>
			if(EntryTimes &lt; 2){
				500;
			}
			else{
				120;
			}
		</script>
	</BltRows>

	<BackgroundDark>
		<script>
			ret = "yes";
			if(CurrentAP=="IMSAP"){
				if(CurrentType=="Photo"){
					ret = "no";
				}else if(CurrentType=="Video"){
					ret = "no";
				}
			}else if(CurrentAP=="VideoPlayback"){
				ret = "no";
			}else if(CurrentAP=="PhotoPlaybackAP"){
				ret = "no";
			}
		</script>
	</BackgroundDark>

  <!-- the entry point of the view, you can set the initial focus here -->
  <!-- you can also use postMessage to do the initial operation on the focus item -->
  <onEnter>
 		CurAPName = getCurrentAPName();
 		image_type = ".fsp";
 		BG_image_type = ".fsp";

		CurrentAP = getEnv("EntryStatusString1");
		CurrentType = getEnv("EntryStatusString2");
		PlayMusic = getEnv("EntryStatusString3");
		CurrentSubType = getEnv("EntryStatusString4");
		CurrentSubType5 = getEnv("EntryStatusString5");
		CurrentSubType6 = getEnv("EntryStatusString6");
		CurrentSubType7 = getEnv("EntryStatusString7");
		IsAVinDisable = "yes";
		GBrowserDisable = "no";
		GMovieDisable = "no";
		GMusicDisable = "no";
		GPictureDisable = "no";
		FavoritesDisable = "yes";
		IMSDisable = "yes";
		IPTVDisable = "yes";
		WebKitDisable = "yes";
		SetupDisable = "no";

/* pokrass added */
		GlavTVDisable = "no";
		TVonTopDisable = "no";
		SaylerDisable = "no";
		SovokDisable = "no";
		FexDisable = "no";
		YoutubeDisable = "no";
		UAonlineDisable = "no";
		WeatherDisable = "no";
		TransDisable = "no";
		IptvlistDisable = "no";
		OnMedDisable = "no";
		IconMedDisable = "no";
		MediaportalDisable = "no";
		RutorDisable = "no";
		MyhitDisable = "no";
/* end pokrass */

		if(IsItemDisasble("IsAVinDisable") == "false" &amp;&amp; getFreeValueFromKey("menu_dtv") != "$[OFF]"){
			IsAVinDisable = "no";
		}
		
		if(getFreeValueFromKey("menu_gbrowser") == "$[OFF]"){
			GBrowserDisable = "yes";
		}
		
		if(getFreeValueFromKey("menu_gmovie") == "$[OFF]"){
			GMovieDisable = "yes";
		}
		
		if(getFreeValueFromKey("menu_gmusic") == "$[OFF]"){
			GMusicDisable = "yes";
		}
		
		if(getFreeValueFromKey("menu_gpic") == "$[OFF]"){
			GPictureDisable = "yes";
		}
		
		if(IsItemDisasble("IsFavoritesDisable") == "false" &amp;&amp; getFreeValueFromKey("menu_fav") != "$[OFF]"){
			FavoritesDisable = "no";
		}
		if(IsItemDisasble("NetworkDisable") == "false" &amp;&amp; getFreeValueFromKey("menu_ims") != "$[OFF]"){
			IMSDisable = "no";
		}
		if(IsItemDisasble("ExtensionDisable") == "false" &amp;&amp; getFreeValueFromKey("menu_iptv") != "$[OFF]"){
			IPTVDisable = "no";
		}
		if(IsItemDisasble("WebKitDisable") == "false" &amp;&amp; getFreeValueFromKey("menu_webkit") != "$[OFF]"){
			WebKitDisable = "no";
		}
		if(getFreeValueFromKey("menu_setup") == "$[OFF]"){
			SetupDisable = "yes";
		}
/* pokrass added */
		if(GlavTVDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/glavtv/def_rss.php");
			if (test == null) GlavTVDisable = "yes";
			else GlavTVDisable = "no";
		}
		if(TVonTopDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/tvontop/def_rss.php");
			if (test == null) TVonTopDisable = "yes";
			else TVonTopDisable = "no";
		}
		if(RutorDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/rutor/def_rss.php");
			if (test == null) RutorDisable = "yes";
			else RutorDisable = "no";
		}
		if(SaylerDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/mediarss/def_rss.php");
			if (test == null) SaylerDisable = "yes";
			else SaylerDisable = "no";
		}
		if(SovokDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/sovok/def_rss.php");
			if (test == null) SovokDisable = "yes";
			else SovokDisable = "no";
		}
		if(FexDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/fex/def_rss.php");
			if (test == null) FexDisable = "yes";
			else FexDisable = "no";
		}
		if(YoutubeDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/youtube/def_rss.php");
			if (test == null) YoutubeDisable = "yes";
			else YoutubeDisable = "no";
		}		
		if(UAonlineDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/uaonline2/def_rss.php");
			if (test == null) UAonlineDisable = "yes";
			else UAonlineDisable = "no";
		}
		if(WeatherDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/weather/def_rss.php");
			if (test == null) WeatherDisable = "yes";
			else WeatherDisable = "no";
		}
		if(TransDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/trans/watch.dir");
			if (test == null) TransDisable = "yes";
			else TransDisable = "no";
		}
		if(IptvlistDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/iptvlist/def_rss.php");
			if (test == null) IptvlistDisable = "yes";
			else IptvlistDisable = "no";
		}
		if(IconMedDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/iconmedia/def_rss.php");
			if (test == null) IconMedDisable = "yes";
			else IconMedDisable = "no";
		}

		if(MediaportalDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/mediaportal/def_rss.php");
			if (test == null) MediaportalDisable = "yes";
			else MediaportalDisable = "no";
		}
		if(MyhitDisable == "no"){
			test = readStringFromFile("/usr/local/etc/mos/www/modules/myhit/def_rss.php");
			if (test == null) MyhitDisable = "yes";
			else MyhitDisable = "no";
		}
/* end pokrass */
		
		FocusCnt = 0;
		if(IsAVinDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(GBrowserDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(GMovieDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(GMusicDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(GPictureDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(FavoritesDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(IMSDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(IPTVDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(WebKitDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(SetupDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
/* pokrass added */
		GlavTV = FocusCnt;
		if(GlavTVDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(TVonTopDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(SaylerDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(UAonlineDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(SovokDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(FexDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(YoutubeDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(WeatherDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(TransDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(IptvlistDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(OnMedDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(IconMedDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(MediaportalDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(RutorDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
		if(MyhitDisable == "no"){
			FocusCnt = FocusCnt + 1;
		}
/* end pokrass */

		CurrentSel = FocusCnt / 2 ;
		setParentFade(100);
		

		setItemFocus(CurrentSel);
		redrawDisplay();

        EntryTimes = 1;
        BltType = "NoBitBlt";

        DBReady = IsDBReady();
        LastDBReady = DBReady;
        setRefreshTime(1000);

  </onEnter>
	<onUserInput>
	        userInput = currentUserInput();

		ret="false";

		newIndex = "-1";
        
		if("up" == userInput)
		{
			ret = "true";
	        }
		else if (userInput == "one") 	newIndex = 0;
		else if (userInput == "two") 	newIndex = 1;
		else if (userInput == "three")	newIndex = 2;
		else if (userInput == "four")	newIndex = 3;
		else if (userInput == "five")	newIndex = 4;
		else if (userInput == "six")	newIndex = 5;
		else if (userInput == "seven")	newIndex = 6;
		else if (userInput == "eight")	newIndex = 7;
		else if (userInput == "nine")	newIndex = 8;
		else if (userInput == "zero")	newIndex = 9;

		if( newIndex !="-1" )
		{
			if( newIndex &lt; FocusCnt )
			{
				setFocusItemIndex( newIndex );
				redrawDisplay();
				postMessage("enter");
			}
			ret = "true";
		}
		ret;
    </onUserInput>

  <!-- over write user key mapping here -->
  <!-- return true means the event has been handled -->
  <!-- return false means the View will continue to handle the event -->


	<text offsetXPC=0 offsetYPC=6.2 widthPC=100 heightPC=13 fontSize=17 foregroundColor=200:200:200 backgroundColor=-1:-1:-1 align=center redraw=yes useBackgroundSurface=yes>
		<script>
			focusIndex = getFocusItemIndex();
			title= (focusIndex - -1 + ". ")  + getItemInfo(focusIndex,  "title");
		</script>
	</text>


	<itemDisplay>

		<image offsetXPC=0 offsetYPC=0 widthPC=100 heightPC=92>
			<script>
				queryIndex = getQueryItemIndex();
				focusIndex = getFocusItemIndex();
				lastSelectedIndex = getSelectedItemIndex();
				thumbnail = getItemInfo("media:thumbnail");
				ItemGroup = getItemInfo("group");
				state = getDrawingItemState();
				if(ItemGroup == "DB"){
					if(DBReady == "false"){
						thumbnail = thumbnail + "_gray";
					}
				}
				if (queryIndex != focusIndex){
					thumbnail = thumbnail;
				}
				thumbnail = thumbnail + image_type;

				thumbnail;

			</script>
		</image>
	</itemDisplay>

</mediaDisplay>

<channel>
	<title> GuideMenu </title>
	<link>./guide_menu/scripts/GuideMenu.rss</link>

<item>
<title>$[IMS_DTV]</title>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_DTV </media:thumbnail>
<disable>
	<script>
		IsAVinDisable;
	</script>
</disable>
<onClick>
	<script>
		APName = "RootAP";
		menuCmd(APName);
		null;
	</script>
</onClick>
</item>

<item>
<title>$[IMS_FILE_MANAGER]</title>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_FileManager </media:thumbnail>
<disable>
	<script>
		GBrowserDisable;
	</script>
</disable>
<onClick>
	<script>
		subStoragePath = getStoragePath("key");
		subStoragePath = subStoragePath + "DeviceSelects.dat";
		selectArray = readStringFromFile(subStoragePath);
		if (selectArray == null){
		  selectArray = pushBackStringArray(selectArray, "Grid");
 		  selectArray = pushBackStringArray(selectArray, "All");
  		  writeStringToFile(subStoragePath, selectArray);
		}
		APName = "GBrowserGridViewAP";
		Source = "Dev";
		ViewSel = getStringArrayAt(selectArray, 0);
		MMType = getStringArrayAt(selectArray, 1);
		menuCmd(APName, Source, ViewSel, MMType, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>$[GBROWSER_MOVIE]</title>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_Movie </media:thumbnail>
<disable>
	<script>
		GMovieDisable;
	</script>
</disable>
<group> DB </group>
<onClick>
	<script>
		if(DBReady == "true"){
			subStoragePath = getStoragePath("key");
			subStoragePath = subStoragePath + "MoviesSelects.dat";
			selectArray = readStringFromFile(subStoragePath);
			if (selectArray == null){
			  selectArray = pushBackStringArray(selectArray, "Grid");
			  selectArray = pushBackStringArray(selectArray, "ByName");
			  selectArray = pushBackStringArray(selectArray, "All");
			  writeStringToFile(subStoragePath, selectArray);
			}
			APName = "GBrowserGridViewAP";
			MMType = "Video";
			SrcSel = "DB";
			ViewSel = getStringArrayAt(selectArray, 0);
			SortSel = getStringArrayAt(selectArray, 1);
			ShowSel = getStringArrayAt(selectArray, 2);
			menuCmd(APName, SrcSel, ViewSel, MMType, ShowSel, SortSel, BltType);
		}
		null;
	</script>
</onClick>

</item>

<item>
<title>$[GBROWSER_MUSIC]</title>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_Music </media:thumbnail>
<disable>
	<script>
		GMusicDisable;
	</script>
</disable>
<group> DB </group>
<onClick>
	<script>
		if(DBReady == "true"){
			subStoragePath = getStoragePath("key");
			subStoragePath = subStoragePath + "MusicSelects.dat";
			selectArray = readStringFromFile(subStoragePath);
			if (selectArray == null){
			  selectArray = pushBackStringArray(selectArray, "List");
	  		  selectArray = pushBackStringArray(selectArray, "ByRectPlay");
	  		  selectArray = pushBackStringArray(selectArray, "All");
	  		  writeStringToFile(subStoragePath, selectArray);
			}
			APName = "GBrowserGridViewAP";
			MMType = "Music";
			SrcSel = "DB";
			ViewSel = getStringArrayAt(selectArray, 0);
			SortSel = getStringArrayAt(selectArray, 1);
			ShowSel = getStringArrayAt(selectArray, 2);
			if(ShowSel != "All"){
				SortSel = "None";
			}
			menuCmd(APName, SrcSel, ViewSel, MMType, ShowSel, SortSel, BltType);
		}
		null;
	</script>
</onClick>
</item>

<item>
<title>$[GBROWSER_PICTURE]</title>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_Photo </media:thumbnail>
<disable>
	<script>
		GPictureDisable;
	</script>
</disable>
<group> DB </group>
<onClick>
	<script>
		if(DBReady == "true"){
			subStoragePath = getStoragePath("key");
			subStoragePath = subStoragePath + "PictureSelects.dat";
			selectArray = readStringFromFile(subStoragePath);
			if (selectArray == null){
			  selectArray = pushBackStringArray(selectArray, "Grid");
	  		  selectArray = pushBackStringArray(selectArray, "ByName");
	  		  selectArray = pushBackStringArray(selectArray, "PhotoDir");
			  writeStringToFile(subStoragePath, selectArray);
			}
			APName = "GBrowserGridViewAP";
			MMType = "Photo";
			SrcSel = "DB";
			ViewSel = getStringArrayAt(selectArray, 0);
			SortSel = getStringArrayAt(selectArray, 1);
			ShowSel = getStringArrayAt(selectArray, 2);
			menuCmd(APName, SrcSel, ViewSel, MMType, ShowSel, SortSel, BltType);
		}
		null;
	</script>
</onClick>
</item>

<item>
<title>$[ims_vt_FAV]</title>
<disable>
	<script>
		FavoritesDisable;
	</script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_Favorites </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "MyFavorites";
		MenuLink = "rss_file://./scripts/myfavorites_list.rss";
		menuCmd(APName, MenuType, MenuLink, BltType);

		null;
	</script>
</onClick>
</item>


/* pokrass added */


<item>
<title>IPTV List</title>
<disable>
    <script>
	IptvlistDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/IPTV </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/?page=rss_iptv";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>Sayler's Media RSS</title>
<disable>
    <script>
	SaylerDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/sayler </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/cgi-bin/rss";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>ГлавТВ</title>
<disable>
    <script>
	GlavTVDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/glavtv </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/modules/glavtv/index.php";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>TV on Top</title>
<disable>
    <script>
	TVonTopDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/TVonTop </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/modules/tvontop/index.php";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>Sovok.TV</title>
<disable>
    <script>
	SovokDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/sovok </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/?page=rss_sovok";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>fex.net/ex.ua</title>
<disable>
    <script>
	FexDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/fex </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/?page=rss_fex";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>Ukraine Online 2</title>
<disable>
    <script>
	UAonlineDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/uaonline </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/modules/uaonline2/ua_main.php";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>



<item>
<title>YouTube</title>
<disable>
    <script>
	YoutubeDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/youtube </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/?page=rss_youtube";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>MediaPortal</title>
<disable>
    <script>
	MediaportalDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/mediaportal </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/modules/mediaportal/index.php";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>IconBit Видеотека</title>
<disable>
    <script>
	IconMedDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/iconmedia </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/?page=iconmedia";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>


<item>
<title>MY-HIT.ru</title>
<disable>
    <script>
	MyhitDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/myhit </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/?page=rss_myhit";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>RuTor.org</title>
<disable>
    <script>
	RutorDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Rutor </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://files.iconbit.com/file/rutor/index.php";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>Transmission</title>
<disable>
    <script>
	TransDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/trans </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/?page=rss_trans";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>Погода</title>
<disable>
    <script>
	WeatherDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/weather </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "http://127.0.0.1/?page=rss_weather";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>

<item>
<title>$[IMS_APP]</title>
<disable>
    <script>
	OnMedDisable;
    </script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_Internet </media:thumbnail>
<onClick>
	<script>
		APName = "IMSAP";
		MenuType = "TopMenu";
		MenuLink = "/usr/local/bin/scripts/menu.rss";
		menuCmd(APName, MenuType, MenuLink, BltType);
		null;
	</script>
</onClick>
</item>


/* end pokrass */

<item>
<title>moServices</title>
<disable>
	<script>
		IMSDisable;
	</script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/moMenu </media:thumbnail>
<onClick>
	<script>
		status = readStringFromFile("/tmp/share/appInit.dat");
		if (status == "yes" || IPTVDisable == "yes") {
			APName = "IMSAP";
			MenuType = "TopMenu";
			MenuLink = "rss_file://./scripts/menu.rss";
			menuCmd(APName, MenuType, MenuLink, BltType);
		} else {
			rss = "rss_file://./setup_menu/scripts/dynamicPopup.rss";
			doModalRss(rss, "mediaDisplay", "popupDialog", 0);
		}
		null;
	</script>
</onClick>
</item>


<item>
<title>$[IMS_IPTV]</title>
<disable>
	<script>
		IPTVDisable;
	</script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_IPTV </media:thumbnail>
<onClick>
	<script>
		status = readStringFromFile("/tmp/share/appInit.dat");
		if (status == "yes") {
			APName = "IMSAP";
			MenuType = "TopMenu";
			MenuLink = "rss_file:///tmp/app/ims/mc-browser.rss";
			menuCmd(APName, MenuType, MenuLink, BltType);
		} else {
			rss = "rss_file://./setup_menu/scripts/dynamicPopup.rss";
			doModalRss(rss, "mediaDisplay", "popupDialog", 0);
		}
		null;
	</script>
</onClick>
</item>

<item>
<title>$[IMS_WEB_BROWSER]</title>
<disable>
	<script>
		WebKitDisable;
	</script>
</disable>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_Webkit </media:thumbnail>
<onClick>
	<script>
		setEnv("webkit_app", "webentry");
		APName = "WebKitAP";
		menuCmd(APName);
		null;
	</script>
</onClick>
</item>

<item>
<title>$[SETUP_MENU]</title>
<media:thumbnail> /usr/local/etc/mos/iconmenu/images/Home_Setup </media:thumbnail>
<disable>
	<script>
		SetupDisable;
	</script>
</disable>
<onClick>
	<script>
		APName = "MenuBarAP";
		MenuType = "TopMenu";
		MenuLink = "rss_file://./setup_menu/scripts/setup.rss";
		menuCmd(APName, MenuType, MenuLink, BltType);

		null;
	</script>
</onClick>
</item>

</channel>
</rss>
